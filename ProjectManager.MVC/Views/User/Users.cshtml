@using Microsoft.AspNetCore.Identity
@using ProjectManager.Application.Users
@using ProjectManager.Domain.Entities
@model IEnumerable<User>
@inject UserManager<User> UserManager


@{
    ViewData["Title"] = "Users";
}

<h1>Users</h1>

@foreach (var user in Model)
{
    <div>
        <hr />
        <dl class="row">
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => user.UserName)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => user.UserName)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => user.Email)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => user.Email)
            </dd>
            <dt class = "col-sm-2">
                Roles
            </dt>
            <dd class = "col-sm-10">
                @{
                    var roles = await UserManager.GetRolesAsync(user);
                }
                @foreach (var role in roles)
                {
                    <span>@role</span>
                }
            </dd>
        </dl>
    </div>
}
<div>
    @Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ }) |
    <a asp-action="Index">Back to List</a>
</div>
